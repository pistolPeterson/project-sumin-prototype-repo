<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Creating your own nodes </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Creating your own nodes ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/docfx.vendor.css">
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/featherlight.min.css">
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/docfx.css">
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/main.css">
    <meta property="docfx:navrel" content="../toc">
    <meta property="docfx:tocrel" content="toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                Home
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../manual/getting_started.html" title="Manual">Manual</a>
                      </li>
                      <li>
                          <a href="../nodes.html" title="Node Index">Node Index</a>
                      </li>
                      <li>
                          <a href="../api/InsaneScatterbrain.html" title="API">API</a>
                      </li>
                      <li>
                          <a href="../changelog.html" title="Changelog">Changelog</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidetoc">
                <div class="toc manual" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="creating_your_first_map_graph.html" title="Tutorials" class="">Tutorials</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="creating_your_first_map_graph.html" title="Creating your first map generator" class="">Creating your first map generator</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="creating_your_first_map_graph.html" title="1. Creating your first map graph" class="">1. Creating your first map graph</a>
                                </li>
                                <li class="">
                                  <a href="running_a_graph_at_runtime.html" title="2. Running a graph at runtime" class="">2. Running a graph at runtime</a>
                                </li>
                                <li class="">
                                  <a href="adding_more_nodes.html" title="3. Adding more nodes" class="">3. Adding more nodes</a>
                                </li>
                                <li class="">
                                  <a href="object_placement.html" title="4. Object placement" class="">4. Object placement</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="cave-like_maps.html" title="Basic map types" class="">Basic map types</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="cave-like_maps.html" title="&#8226; Cave-like maps" class="">&#8226; Cave-like maps</a>
                                </li>
                                <li class="">
                                  <a href="room-based_maps.html" title="&#8226; Room-based maps" class="">&#8226; Room-based maps</a>
                                </li>
                                <li class="">
                                  <a href="sample-based_maps.html" title="&#8226; Sample-based maps" class="">&#8226; Sample-based maps</a>
                                </li>
                                <li class="">
                                  <a href="combining_map_types.html" title="&#8226; Combining map types" class="">&#8226; Combining map types</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="linked_named_color_sets.html" title="More Tutorials" class="">More Tutorials</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="using_prefabs_instead_of_tilemaps.html" title="&#8226; Using prefabs instead of tilemaps" class="">&#8226; Using prefabs instead of tilemaps</a>
                                </li>
                                <li class="">
                                  <a href="changing_type_entry_probability.html" title="&#8226; Changing tile/prefab/tilemap set probabilities (weighted random)" class="">&#8226; Changing tile/prefab/tilemap set probabilities (weighted random)</a>
                                </li>
                                <li class="">
                                  <a href="linked_named_color_sets.html" title="&#8226; Linking a named color set to tilesets/prefab sets" class="">&#8226; Linking a named color set to tilesets/prefab sets</a>
                                </li>
                                <li class="">
                                  <a href="groups.html" title="&#8226; Organizing nodes into groups" class="">&#8226; Organizing nodes into groups</a>
                                </li>
                                <li class="">
                                  <a href="notes.html" title="&#8226; Adding notes &amp; comments" class="">&#8226; Adding notes &amp; comments</a>
                                </li>
                                <li class="">
                                  <a href="running_a_graph_within_a_graph.html" title="&#8226; Running a graph within a graph (Sub graphs)" class="">&#8226; Running a graph within a graph (Sub graphs)</a>
                                </li>
                                <li class="">
                                  <a href="tilemap_sets.html" title="&#8226; Tilemap Sets" class="">&#8226; Tilemap Sets</a>
                                </li>
                                <li class="">
                                  <a href="optimization_tips.html" title="&#8226; Optimization tips" class="">&#8226; Optimization tips</a>
                                </li>
                                <li class="">
                                  <a href="static_seed.html" title="&#8226; Static seed (daily challenges)" class="">&#8226; Static seed (daily challenges)</a>
                                </li>
                                <li class="">
                                  <a href="running_a_graph_asynchronously.html" title="&#8226; Running a graph asynchronously/multi-threaded" class="">&#8226; Running a graph asynchronously/multi-threaded</a>
                                </li>
                                <li class="">
                                  <a href="object_pooling.html" title="&#8226; Object pooling" class="">&#8226; Object pooling</a>
                                </li>
                                <li class="">
                                  <a href="unity_rule_tiles.html" title="&#8226; Tips for rule tiles" class="">&#8226; Tips for rule tiles</a>
                                </li>
                                <li class="">
                                  <a href="save_load_maps.html" title="&#8226; Saving and loading maps" class="">&#8226; Saving and loading maps</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="creating_your_first_map_graph.html" title="Tutorials for coders" class="">Tutorials for coders</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="running_graphs_from_scripts.html" title="&#8226; Running graphs from scripts" class="">&#8226; Running graphs from scripts</a>
                                </li>
                                <li class="">
                                  <a href="output_parameters.html" title="&#8226; Output parameters" class="">&#8226; Output parameters</a>
                                </li>
                                <li class="active">
                                  <a href="creating_your_own_nodes.html" title="&#8226; Creating your own nodes" class="active">&#8226; Creating your own nodes</a>
                                </li>
                                <li class="">
                                  <a href="creating_your_own_node_views.html" title="&#8226; Creating your own node views" class="">&#8226; Creating your own node views</a>
                                </li>
                                <li class="">
                                  <a href="adding_a_constant_node_type.html" title="&#8226; Adding a constant node type" class="">&#8226; Adding a constant node type</a>
                                </li>
                                <li class="">
                                  <a href="custom_styling_for_the_graph_editor.html" title="&#8226; Custom styling for the graph editor" class="">&#8226; Custom styling for the graph editor</a>
                                </li>
                              </ul>  </li>
                        </ul>  </li>
                    <li class="">
                      <a href="sample_project.html" title="Sample Project" class="">Sample Project</a>
                    </li>
                    <li class="">
                      <a href="troubleshooting.html" title="Troubleshooting" class="">Troubleshooting</a>
                    </li>
                    <li class="">
                      <a href="support.html" title="Support" class="">Support</a>
                    </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="creating-your-own-nodes">Creating your own nodes</h1>

<p>Extending Map Graph's by writing your own node classes is easy.
There are some important considerations you need to take note of though.</p>
<p>Here's an example of a class for a custom node:</p>
<pre><code class="lang-csharp" name="ExampleNode">using System;
using System.Collections.Generic;
using InsaneScatterbrain.ScriptGraph;
using UnityEngine;

// The ScriptNode attribute makes sure that the node gets added to the context menu, so you can actually
// add them to your graphs.
// The serializable attribute is necessary, to be able to store the node in the map graph asset file.
[ScriptNode(&quot;Add Two Ints&quot;, &quot;Math&quot;), Serializable]
public class AddTwoIntsNode : ProcessorNode
{
    // By adding the InPort attribute, a port will automatically be created and assigned to this field.
    // In this case, it will be a port named &quot;Int A&quot;, accepting an integer as input.
    // By passing &quot;true&quot; as a third parameter, the port will require a connection for the graph to run.
    // Using SerializeReference here is necessary to make sure that the ports and their connections get persisted.
    [InPort(&quot;Int A&quot;, typeof(int), true), SerializeReference]
    private InPort intAIn = null;   // Initializing it to null is merely done to avoid the compiler from showing the &quot;never used&quot; warning.
    
    [InPort(&quot;Int B&quot;, typeof(int)), SerializeReference] 
    private InPort intBIn = null;
    
    /// Adding the OutPort attribute works the same as InPort.
    [OutPort(&quot;Total&quot;, typeof(int)), SerializeReference] 
    private OutPort sumOut = null;

    protected override void OnProcess()
    {
        // This is the method that is called when the node is asked to perform its task.

        // First we pull the values from our input ports.
        var intA = intAIn.Get&lt;int&gt;();
        var intB = intBIn.Get&lt;int&gt;();

        // Then we do the work.
        var total = intA + intB;

        // And we assign the values we want to output to the output ports.
        sumOut.Set(() =&gt; total);
    }
}
</code></pre>
<p>If you want to see some more complex examples, you can just take a look at the code of some of the existing nodes.</p>
<h2 id="important-considerations">Important considerations!</h2>
<p>There are some important things you need to take note of whenever you create your own nodes.</p>
<h3 id="coordinate-system">Coordinate system</h3>
<p>Map Graph uses a coordinate system where the origin is in the bottom left corner of the map.</p>
<h3 id="be-careful-when-deleting-or-renaming-your-nodes-and-their-namespaces">Be careful when deleting or renaming your nodes and their namespaces</h3>
<p>Map Graph uses the <strong>SerializeReference</strong> attribute to store its nodes and ports. This attribute is a
relatively new addition to Unity and while it is very useful, it may or may not cause issues, depending
on which version of Unity you're using. This section describes how to work around these issues.</p>
<p>You might run into issues when node classes are deleted, renamed
or moved to another namespaces, if these nodes are present in any of your project's graphs.</p>
<p>The issue is described in the Unity Issue Tracker here:
<a href="https://issuetracker.unity3d.com/issues/serializereference-serialized-reference-data-lost-when-the-class-name-is-refactored">https://issuetracker.unity3d.com/issues/serializereference-serialized-reference-data-lost-when-the-class-name-is-refactored</a></p>
<p>If a node class is deleted, renamed or moved to a different namespace, Unity throws an <strong>Unknown managed type referenced</strong> exception and
will fail to load the graph.</p>
<p>There are some ways to deal with this issue.</p>
<h4 id="deleting-a-node-class">Deleting a node class</h4>
<p>If you want to delete a node class, make sure you've removed all of the nodes of that type from all of your project's graphs, before doing so.</p>
<h4 id="renaming-a-node-class-or-its-namespace">Renaming a node class or its namespace</h4>
<p>When renaming a node class or its namespace, there are two options.</p>
<h5 id="1-just-leave-it">1. Just leave it</h5>
<p>The easiest way to deal with this issue, is to just completely avoid renaming a class or moving it to a different namespace,
after you've started using it in your graphs.</p>
<p>If you want to give it a different name in the Map Graph editor, you can do so in the <strong>ScriptNode</strong> attribute.</p>
<h5 id="2-use-the-movedfrom-attribute">2. Use the MovedFrom attribute</h5>
<p>If you do want to rename a node's classname or move it to another namespace, you can use the <strong>MovedFrom</strong> attribute as
described in the Unity Issue Tracker.</p>
<p>For example, if you've renamed your class from <strong>ExampleNode</strong> to <strong>RenamedExampleNode</strong> you can fix it like this:</p>
<pre><code class="lang-cs">...
using UnityEngine.Scripting.APIUpdating;

[MovedFrom(false, null, null, &quot;ExampleNode&quot;)]
public class RenamedExampleNode : ProcessorNode
{
...
</code></pre>
<p>If you've moved the class to a different namespace:</p>
<pre><code class="lang-cs">[MovedFrom(false, &quot;Nodes.OriginalNamespace&quot;, null, null)]
</code></pre>
<p>If you've renamed it and moved it to a different namespace:</p>
<pre><code class="lang-cs">[MovedFrom(false, &quot;Nodes.OriginalNamespace&quot;, null, &quot;ExampleNode&quot;)]
</code></pre>
<p>Once you've recompiled your project with the attribute, the error should be gone and your graphs should work again.
At this point you can safely remove the MovedFrom attribute.</p>
<h3 id="make-sure-your-node-class-and-its-ports-have-the-right-attributes">Make sure your node class and its ports have the right attributes</h3>
<p>Nodes <strong>need</strong> to have the ScriptNode and Serializable attribute.</p>
<p>If you don't add the ScriptNode attribute it won't show up in the context menu and you won't be able to use it in your graphs.
If you don't add the Serializable attribute, data won't persist, meaning its ports and their connections.</p>
<p>Ports need to have the SerializeReference attribute (not to be confused with the SerializeField attribute) assigned to them,
for the same reason nodes need the Serializable attribute. SerializeField won't work, as it won't persist the references.</p>
<h3 id="making-copies-of-reference-types">Making copies of reference types</h3>
<p>If you pull a reference type from an input port and you want to make changes to that object, you'll need to make a copy of it first,
and apply your changes on that copy instead. If you don't make a copy, other input ports that pull data from the same output port,
will be presented with the changed version, which will lead to unexpected results.</p>
<h2 id="ensuring-consistent-output-with-a-static-seed">Ensuring consistent output with a static seed</h2>
<p>In the likely event that you need to generate random numbers, normally, you'd probably use either
the static methods on Unity's Random class or you'd use an instance of .NET's Random class. However, in Map Graph's nodes
you should avoid doing so, because it won't guarantee a consistent output when using a static seed.</p>
<p>Instead, you'll want to get and use the Rng object, like so:</p>
<pre><code class="lang-cs">var rng = Get&lt;Rng&gt;();
var randomNumber = rng.Next(0, 100);
</code></pre>
<p><strong>Please note:</strong> There are two Rng classes, InsaneScatterbrain.Services.Rng and InsaneScatterbrain.RandomNumberGeneration.Rng.
You should use the former.</p>
<h2 id="async-support">Async support</h2>
<p>It's possible for Map Graph to <a href="running_a_graph_asynchronously.html">run graphs asynchronously on a separate thread</a>.</p>
<p>In order for your node to support this, you need to make sure that any of your node's code that needs to run on the main thread, such
as most Unity API calls, does so.</p>
<h3 id="implementing-onprocessmainthread-or-onprocessmainthreadcoroutine">Implementing OnProcessMainThread or OnProcessMainThreadCoroutine</h3>
<p>You can do this by overriding either the OnProcessMainThread or OnProcessMainThreadCoroutine method on your node.
The difference between the two being, that the former will be run in a single frame, whereas the latter will
be run as a coroutine, allowing to spread execution of the node over multiple frames. Because of this OnProcessMainThreadCoroutine
does tend to take longer to complete, but can further reduce any stuttering or freezing.</p>
<p>When executing OnProcessMainThreadCoroutine, Map Graph will attempt to execute it in chunks of time equal to the time set as in
&quot;Target Time Per Frame&quot; setting on the graph runner component, assuming &quot;Enable Main Thread Time Per Frame Limit&quot; has been enabled.</p>
<p>You can implement either of these methods along side the normal OnProcess (which will not run on the main thread),
which will be called right before the OnProcessMainThread or OnProcessMainThreadCoroutine will be run.</p>
<h4 id="implementing-onprocessmainthread">Implementing OnProcessMainThread</h4>
<p>It's as simple as overriding the OnProcessMainThread inside of your custom node and put your logic inside of it.</p>
<pre><code class="lang-cs">protected override void OnProcessMainThread()
{
    // Make your Unity API calls here.  
}
</code></pre>
<h4 id="implementing-onprocessmainthreadcoroutine">Implementing OnProcessMainThreadCoroutine</h4>
<p>Implementing OnProcessMainThreadCoroutine is almost as easy, but it needs to provide some feedback about when
is a valid moment to pause execution. You can do so by doing a <code>yield return null; </code>.</p>
<p>In a standard coroutine doing a <code>yield return null; </code> will stop execution until the next frame. This is not
necessarily the case here.</p>
<p>In this case, these are basically the points to check whether the execution has exceeded the
allotted time for this frame. If it has, execution is paused and continued in the next frame, if it's not we keep going
either until it has exceeded the allotted time or until the method execution is complete.</p>
<p>For example, let's say you want to loop through the colors of some texture data and modify them in some way. A
good place to do a <code>yield return null; </code> might be after each iteration of that loop.</p>
<pre><code class="lang-cs">protected override IEnumerator OnProcessMainThreadCoroutine()
{
    // Do some prepare stuff, here like reading the texture colors
    for (var i = 0; i &lt; textureData.ColorCount; ++i)
    {
        // Get the color and do some stuff to it.
        
        // If the allotted time has execeeded, this is where we stop now and continue next frame.
        yield return null;  
    }
}
</code></pre>
<h4 id="which-one-should-you-use">Which one should you use?</h4>
<p>Obviously, you'll only have to keep this if you need async support. If you're only
going to run your graphs synchronously (on the main thread). You don't need to do any of this and you can call the Unity API
whenever you want. Just be aware that if you choose to run your graph asynchronously later on, there will be errors and it
will fail.</p>
<p>If the node's execution time isn't likely to exceed your acceptable frame time or if you aren't able to cut execution up
into smaller pieces, you'll want to implement OnProcessMainThread.</p>
<p>If the node's execution time is long enough that it might start to cause freezing or stuttering and it's possible to cut up the
execution of the code into smaller parts, OnProcessMainThreadCoroutine might be the better choice.</p>
<p>It can also be useful to override both methods. In this case, Map Graph will automatically pick the appropriate one to execute,
based on whether &quot;Enable Main Thread Time Per Frame Limit&quot; has been enabled or not. This can be useful if in some
situations you want to enable the time per frame limit and in some you don't and the most efficient solution for
either situations is different.</p>
<p>For example, the Texture To Tilemap node has both methods implemented, where the OnProcessMainThreadCoroutine
method assigns tiles using the SetTile method and the OnProcessMainThread uses the SetTilesBlock method. The latter method is
faster, but can't be used when cutting the assigning of tiles up into chunks.</p>
<h3 id="using-mainthreadcommands">Using MainThreadCommands</h3>
<p>The aforementioned methods are build on top of the main thread commands system. Instead of using these methods, you can make
your own main thread commands, like so:</p>
<pre><code class="lang-cs">// You might want to store the command somewhere so that it can be reused.
var command = new MainThreadCommand(MethodToExecuteOnMainThread);   
MainThread.Execute(command);
</code></pre>
<p>Or the coroutine variant:</p>
<pre><code class="lang-cs">// You might want to store the command somewhere so that it can be reused.
var command = new MainThreadCoroutineCommand(MethodToExecuteAsACoroutine());
MainThread.Execute(command);
</code></pre>
<h4 id="when-should-you-use-this-over-the-onprocessmainthread-and-onprocessmainthreadcoroutine-methods">When should you use this over the OnProcessMainThread and OnProcessMainThreadCoroutine methods?</h4>
<p>You probably shouldn't.</p>
<p>You might think that if you have a node where it's a mix of code that must run on the main thread and code that could run
on another thread, it might be a good idea to run all the main thread parts in their own MainThreadCommands. However that's more
likely to negatively impact your performance than to improve it. This is because the overhead of multiple main thread calls are
likely to have a bigger impact on your node's execution time than what you gain from having more of the code run on a separate thread.
Therefore, sticking to a single MainThread call will probably yield the best results.</p>
<p>For example, it's better to do something like this:</p>
<pre><code class="lang-cs">MainThread.Execute(() =&gt; {  
    for (var i = 0; i &lt; 1000; ++i)  
    {  
        NonUnityApiCall();  
        UnityApiCall();  
    }  
});
</code></pre>
<p>Then something like this:</p>
<pre><code class="lang-cs">for (var i = 0; i &lt; 1000; ++i)  
{  
    NonUnityApiCall();  
    MainThread.Execute(UnityApiCall);  
}
</code></pre>
<p>The latter might seem more efficient at first glance, because you'll only execute the Unity API dependant code on the main thread,
but the additional overhead for making many MainThread.Execute isn't worth it.</p>
<p>One way in which MainThreadCommands can save you some time though, is if you have a piece of code that needs to run on the
main thread, that the rest of graph doesn't depend on.</p>
<p>In which case, you can just send the command the MainThread without waiting for the
result.</p>
<p>This is a pretty niche use case though, as it's basically executed completely outside of the flow of the current graph execution and
cannot do anything that the current node (or any nodes afterwards) depend on reliably.</p>
<pre><code class="lang-cs">// Passing &quot;false&quot; tells the Main Thread system not to wait for completion before moving on.
MainThread.Execute(processingCompletedCommand, false);
</code></pre>
<h3 id="how-this-works-and-caveats">How this works and caveats</h3>
<p>Whenever a main thread command (through the overridable methods or otherwise) is executed, the execution on the separate thread is halted,
until the main thread has time to execute the code inside the command.</p>
<p>Obviously, this can increase the execution time considerably, as
execution is halted until the main thread has done its job each time you do this. For this reason, you should keep the
MainThread.Execute calls (and therefore calls to the Unity API) to a minimum.</p>
<p>There are are some simple things you can do to make your node classes less dependent on the Unity API.</p>
<p>For example, for Map Graph's own nodes, <strong>Texture2D</strong> objects get converted to <strong>TextureData</strong> objects, so changes can be made to that data instead,
without having to call the Unity API each time. These objects need to be converted back to <strong>Texture2D</strong> objects at some point and
that's where you need the Unity API, but only in that single place.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/featherlight.min.js"></script>
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/docfx.js"></script>
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/main.js"></script>
  </body>
</html>
