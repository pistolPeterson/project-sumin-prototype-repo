<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Tips for rule tiles </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Tips for rule tiles ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/docfx.vendor.css">
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/featherlight.min.css">
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/docfx.css">
    <link rel="stylesheet" href="https://mapgraph.insanescatterbrain.com/styles/main.css">
    <meta property="docfx:navrel" content="../toc">
    <meta property="docfx:tocrel" content="toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                Home
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../manual/getting_started.html" title="Manual">Manual</a>
                      </li>
                      <li>
                          <a href="../nodes.html" title="Node Index">Node Index</a>
                      </li>
                      <li>
                          <a href="../api/InsaneScatterbrain.html" title="API">API</a>
                      </li>
                      <li>
                          <a href="../changelog.html" title="Changelog">Changelog</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidetoc">
                <div class="toc manual" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="creating_your_first_map_graph.html" title="Tutorials" class="">Tutorials</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="creating_your_first_map_graph.html" title="Creating your first map generator" class="">Creating your first map generator</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="creating_your_first_map_graph.html" title="1. Creating your first map graph" class="">1. Creating your first map graph</a>
                                </li>
                                <li class="">
                                  <a href="running_a_graph_at_runtime.html" title="2. Running a graph at runtime" class="">2. Running a graph at runtime</a>
                                </li>
                                <li class="">
                                  <a href="adding_more_nodes.html" title="3. Adding more nodes" class="">3. Adding more nodes</a>
                                </li>
                                <li class="">
                                  <a href="object_placement.html" title="4. Object placement" class="">4. Object placement</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="cave-like_maps.html" title="Basic map types" class="">Basic map types</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="cave-like_maps.html" title="&#8226; Cave-like maps" class="">&#8226; Cave-like maps</a>
                                </li>
                                <li class="">
                                  <a href="room-based_maps.html" title="&#8226; Room-based maps" class="">&#8226; Room-based maps</a>
                                </li>
                                <li class="">
                                  <a href="sample-based_maps.html" title="&#8226; Sample-based maps" class="">&#8226; Sample-based maps</a>
                                </li>
                                <li class="">
                                  <a href="combining_map_types.html" title="&#8226; Combining map types" class="">&#8226; Combining map types</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="linked_named_color_sets.html" title="More Tutorials" class="">More Tutorials</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="using_prefabs_instead_of_tilemaps.html" title="&#8226; Using prefabs instead of tilemaps" class="">&#8226; Using prefabs instead of tilemaps</a>
                                </li>
                                <li class="">
                                  <a href="changing_type_entry_probability.html" title="&#8226; Changing tile/prefab/tilemap set probabilities (weighted random)" class="">&#8226; Changing tile/prefab/tilemap set probabilities (weighted random)</a>
                                </li>
                                <li class="">
                                  <a href="linked_named_color_sets.html" title="&#8226; Linking a named color set to tilesets/prefab sets" class="">&#8226; Linking a named color set to tilesets/prefab sets</a>
                                </li>
                                <li class="">
                                  <a href="groups.html" title="&#8226; Organizing nodes into groups" class="">&#8226; Organizing nodes into groups</a>
                                </li>
                                <li class="">
                                  <a href="notes.html" title="&#8226; Adding notes &amp; comments" class="">&#8226; Adding notes &amp; comments</a>
                                </li>
                                <li class="">
                                  <a href="running_a_graph_within_a_graph.html" title="&#8226; Running a graph within a graph (Sub graphs)" class="">&#8226; Running a graph within a graph (Sub graphs)</a>
                                </li>
                                <li class="">
                                  <a href="tilemap_sets.html" title="&#8226; Tilemap Sets" class="">&#8226; Tilemap Sets</a>
                                </li>
                                <li class="">
                                  <a href="optimization_tips.html" title="&#8226; Optimization tips" class="">&#8226; Optimization tips</a>
                                </li>
                                <li class="">
                                  <a href="static_seed.html" title="&#8226; Static seed (daily challenges)" class="">&#8226; Static seed (daily challenges)</a>
                                </li>
                                <li class="">
                                  <a href="running_a_graph_asynchronously.html" title="&#8226; Running a graph asynchronously/multi-threaded" class="">&#8226; Running a graph asynchronously/multi-threaded</a>
                                </li>
                                <li class="">
                                  <a href="object_pooling.html" title="&#8226; Object pooling" class="">&#8226; Object pooling</a>
                                </li>
                                <li class="active">
                                  <a href="unity_rule_tiles.html" title="&#8226; Tips for rule tiles" class="active">&#8226; Tips for rule tiles</a>
                                </li>
                                <li class="">
                                  <a href="save_load_maps.html" title="&#8226; Saving and loading maps" class="">&#8226; Saving and loading maps</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="creating_your_first_map_graph.html" title="Tutorials for coders" class="">Tutorials for coders</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="running_graphs_from_scripts.html" title="&#8226; Running graphs from scripts" class="">&#8226; Running graphs from scripts</a>
                                </li>
                                <li class="">
                                  <a href="output_parameters.html" title="&#8226; Output parameters" class="">&#8226; Output parameters</a>
                                </li>
                                <li class="">
                                  <a href="creating_your_own_nodes.html" title="&#8226; Creating your own nodes" class="">&#8226; Creating your own nodes</a>
                                </li>
                                <li class="">
                                  <a href="creating_your_own_node_views.html" title="&#8226; Creating your own node views" class="">&#8226; Creating your own node views</a>
                                </li>
                                <li class="">
                                  <a href="adding_a_constant_node_type.html" title="&#8226; Adding a constant node type" class="">&#8226; Adding a constant node type</a>
                                </li>
                                <li class="">
                                  <a href="custom_styling_for_the_graph_editor.html" title="&#8226; Custom styling for the graph editor" class="">&#8226; Custom styling for the graph editor</a>
                                </li>
                              </ul>  </li>
                        </ul>  </li>
                    <li class="">
                      <a href="sample_project.html" title="Sample Project" class="">Sample Project</a>
                    </li>
                    <li class="">
                      <a href="troubleshooting.html" title="Troubleshooting" class="">Troubleshooting</a>
                    </li>
                    <li class="">
                      <a href="support.html" title="Support" class="">Support</a>
                    </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">

<div class="zoomable-images">
<h1 id="tips-for-rule-tiles">Tips for rule tiles</h1>
<p>Rule tiles are a part of
<a href="https://docs.unity3d.com/Packages/com.unity.2d.tilemap.extras@2.0/manual/index.html">Unity's 2D Tilemap Extras package</a>.
As it's a part of Unity and not of Map Graph itself, we won't be going
into detail about what rule tiles are or how they work here. You can find this information
<a href="https://learn.unity.com/tutorial/using-rule-tiles">here</a>. Instead, this page contains tips on how you can utilize rule tiles
in combination with Map Graph.</p>
<p>Once you're familiar with Rule Tiles, you can assign them to Map Graph's Tilesets in the same way as you would any other
tile (as described in <a href="creating_your_first_map_graph.html#preparing-the-assets">this section</a> of the &quot;Creating your first
map generator&quot; tutorial).</p>
<h2 id="using-rule-tiles-to-generate-gameobjects">Using Rule Tiles to generate GameObjects</h2>
<p>Tilemaps and rule tiles can also be used to generate (3D) game objects. Instead of assigning a sprite to the rules, you assign a game Object.</p>
<p>Let's look at this rule tile, for example:
<img src="../images/tutorials/unity_rule_tiles/example_gameobject_rule_tile.png" alt="Example Game Object rule tile"></p>
<p>Its sprites are empty, instead it has a &quot;Default Game Object&quot; called &quot;blockDirt&quot; and a single rule, that matches for each
tile that doesn't have another tile above it, with &quot;Game Object&quot; set to &quot;block&quot;, which is a dirt block with some grass on top of it.</p>
<p>Using simple rule tile, we can generate platforms like these, consisting of 3D game objects.
<img src="../images/tutorials/unity_rule_tiles/example_gameobject_rule_tile_result.png" alt="Example Game Object rule tile result"></p>
<p>You don't need to use rules, if you simply want to use this system to place game objects instead of tiles. In this case,
you'd just assign a &quot;Default Game Object&quot; and leave the list of rules empty.</p>
<h2 id="how-to-deal-with-an-incomplete-spritesheet">How to deal with an &quot;incomplete&quot; spritesheet</h2>
<p>Spritesheets, and thus the rule tiles you create from them, are rarely complete. This means that they don't have a sprite for every
possible situation. Most often it will be missing sprites for parts that are only one tile wide or tall.</p>
<p>This can be problematic as Map Graph doesn't have any knowledge of the rule tiles you're using and therefore cannot avoid
the situations for which there are no sprites available. This is by design, as Map Graph shouldn't have any knowledge of the concrete
method of output, right up until the point the output is generated. This is to keep Map Graph flexible and easily extendable to
generate all kinds of output, whether the output is a tilemap or a bunch of gameobjects or something else entirely.</p>
<p>In some cases, the best solution is to add the missing sprites to your spritesheet, but this can be a lot of work,
especially if those sprites don't exist yet. However, in a lot of cases, there's another solution possible.</p>
<p>For example, let's create a simple cave generator using this graph:<br>
<img src="../images/tutorials/unity_rule_tiles/example_graph.png" alt="Example Graph"><br>
<em>A cave-like map generator, using the cellular automata method. A border is added to make sure that the level is closed.
The resulting texture gets converted to a tilemap and copied onto a tilemap into our scene.</em></p>
<p>And let's use this (incomplete) spritesheet: (Original spritesheet can be found <a href="https://opengameart.org/content/a-blocky-dungeon">here</a>.)
<img src="../images/tutorials/unity_rule_tiles/example_spritesheet.png" alt="Example Spritesheet"><br></p>
<p>To create this rule tile:<br>
<img alt="Example Rule Tile" src="../images/tutorials/unity_rule_tiles/example_rule_tile.png" style="width: 150px;"></p>
<p>Now let's see what happens when we look at the output:<br>
<img src="../images/tutorials/unity_rule_tiles/example_output.png" alt="Example Output"></p>
<p>Whoops, that doesn't look too great. Some of tiles don't match up with their neighbours, because the sprite that's required
for it to match up doesn't exist in in our spritesheet, so the default one is used instead.</p>
<p>To solve this, you can either add all the possible sprites to your spritesheet, which can be quite a lot of work if those don't
exist yet, or you can make sure that these single tiles don't occur.</p>
<p>You can achieve the latter by using the <a href="../nodes.html#scale-texture">Scale Texture</a> node.</p>
<p>Let adjust our graph, by adding this node right before converting the texture to a tilemap. Setting the scale to 2 will increase
the texture's width and height by 2, so any single tile will be scaled up into 4 tiles, eliminating any parts that are only a single
tile wide or tall. Like so:
<img src="../images/tutorials/unity_rule_tiles/example_graph_scaled.png" alt="Example Graph Scaled"></p>
<p>Now let's take a look at the output again:
<img src="../images/tutorials/unity_rule_tiles/example_output_scaled.png" alt="Example Output Scaled"></p>
<p>Success! All the tiles now correctly match up with their neighbours.</p>
<p>One caveat is that your map is now 4 times the size. So you might want to start out with a smaller texture to compensate for this.</p>
<p>If you need the size of the scaled texture, you can get this by using the <a href="../nodes.html#texture-size">Texture Size</a> node. This way you
don't have to pass both the starting size and the eventual size as a parameter or constant.</p>
<h3 id="caveats">Caveats</h3>
<p>While this quite easy to work with, it has a downside, namely that the GameObjects are only available at runtime. They're visible in the scene, but
not in the hierarchy until you enter playmode. This makes it hard to make modifications to the game objects outside of runtime, if that is something
you need.</p>
</div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/featherlight.min.js"></script>
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/docfx.js"></script>
    <script type="text/javascript" src="https://mapgraph.insanescatterbrain.com/styles/main.js"></script>
  </body>
</html>
